<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>StockItUp - Track Stocks Like a Pro</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header-container">
        <div class="header-brand">
          <i data-lucide="bar-chart-3" class="header-icon"></i>
          <h1 class="header-title">StockItUp</h1>
        </div>

        <button
          class="btn btn-ghost btn-sm theme-toggle"
          id="themeToggle"
          onclick="toggleTheme()"
        >
          <i data-lucide="sun" class="theme-icon sun-icon"></i>
          <i data-lucide="moon" class="theme-icon moon-icon"></i>
        </button>
      </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-container">
        <div class="hero-content">
          <h1 class="hero-title">Track Stocks Like a Pro</h1>
          <p class="hero-description">
            Monitor your investments, analyze market trends, and make informed
            trading decisions with our comprehensive stock tracking platform.
          </p>
          <div class="hero-buttons">
            <button class="btn btn-primary btn-lg" onclick="goToDashboard()">
              Start Tracking Now
              <i data-lucide="chevron-right" class="btn-icon"></i>
            </button>
            <!-- Learn More Button -->
            <button class="btn btn-outline btn-lg" onclick="openVideoModal()">
              Learn More
            </button>

            <!-- Modal (hidden by default) -->
            <div
              id="videoModal"
              style="
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: rgba(0, 0, 0, 0.8);
                justify-content: center;
                align-items: center;
                z-index: 9999;
              "
            >
              <!-- Video Container -->
              <div style="position: relative; width: 80%; max-width: 800px">
                <!-- Close Button -->
                <button
                  onclick="closeVideoModal()"
                  style="
                    position: absolute;
                    top: -40px;
                    right: -10px;
                    background: #fff;
                    border: none;
                    padding: 10px 15px;
                    font-size: 18px;
                    cursor: pointer;
                    border-radius: 50%;
                  "
                >
                  X
                </button>

                <!-- Video -->
                <video id="modalVideo" width="100%" controls>
                  <source src="WebsiteDemoVideo.mp4" type="video/mp4" />
                  Your browser does not support the video tag.
                </video>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Market Preview Section -->
    <section class="market-preview">
      <div class="section-container">
        <div class="section-header">
          <h2 class="section-title">Live Market Preview</h2>
          <p class="section-description">
            See real-time market data for popular stocks
          </p>
        </div>

        <div class="market-grid" id="homeMarketPreview">
          <!-- Loading skeletons -->
          <div class="market-card skeleton-loading">
            <div class="market-card-header">
              <div class="skeleton-text skeleton-title"></div>
              <div class="trend-indicator">
                <i data-lucide="trending-up"></i>
              </div>
            </div>
            <div class="skeleton-text skeleton-price"></div>
            <div class="skeleton-text skeleton-change"></div>
          </div>
          <div class="market-card skeleton-loading">
            <div class="market-card-header">
              <div class="skeleton-text skeleton-title"></div>
              <div class="trend-indicator">
                <i data-lucide="trending-up"></i>
              </div>
            </div>
            <div class="skeleton-text skeleton-price"></div>
            <div class="skeleton-text skeleton-change"></div>
          </div>
          <div class="market-card skeleton-loading">
            <div class="market-card-header">
              <div class="skeleton-text skeleton-title"></div>
              <div class="trend-indicator">
                <i data-lucide="trending-up"></i>
              </div>
            </div>
            <div class="skeleton-text skeleton-price"></div>
            <div class="skeleton-text skeleton-change"></div>
          </div>
          <div class="market-card skeleton-loading">
            <div class="market-card-header">
              <div class="skeleton-text skeleton-title"></div>
              <div class="trend-indicator">
                <i data-lucide="trending-up"></i>
              </div>
            </div>
            <div class="skeleton-text skeleton-price"></div>
            <div class="skeleton-text skeleton-change"></div>
          </div>
        </div>

        <div class="section-cta">
          <button class="btn btn-primary btn-lg" onclick="goToDashboard()">
            View Full Dashboard
            <i data-lucide="chevron-right" class="btn-icon"></i>
          </button>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="features" id="features">
      <div class="section-container">
        <div class="section-header">
          <h2 class="section-title">Everything You Need to Track Stocks</h2>
          <p class="section-description">
            Powerful tools and insights to help you make smarter investment
            decisions
          </p>
        </div>

        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">
              <i data-lucide="trending-up"></i>
            </div>
            <h3 class="feature-title">Real-Time Data</h3>
            <p class="feature-description">
              Get live stock prices and market data updated in real-time to make
              informed decisions.
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">
              <i data-lucide="star"></i>
            </div>
            <h3 class="feature-title">Personal Watchlist</h3>
            <p class="feature-description">
              Create and manage your personalized watchlist to track your
              favorite stocks effortlessly.
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">
              <i data-lucide="bar-chart-3"></i>
            </div>
            <h3 class="feature-title">Interactive Charts</h3>
            <p class="feature-description">
              Visualize stock performance with beautiful, interactive charts and
              technical indicators.
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">
              <i data-lucide="shield"></i>
            </div>
            <h3 class="feature-title">Market Analysis</h3>
            <p class="feature-description">
              Access comprehensive market analysis, news, and insights to stay
              ahead of trends.
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">
              <i data-lucide="smartphone"></i>
            </div>
            <h3 class="feature-title">Mobile Optimized</h3>
            <p class="feature-description">
              Trade and monitor your portfolio seamlessly across desktop and
              mobile devices.
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">
              <i data-lucide="globe"></i>
            </div>
            <h3 class="feature-title">Global Markets</h3>
            <p class="feature-description">
              Track stocks from major exchanges worldwide including NYSE,
              NASDAQ, and more.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-brand">
          <i data-lucide="bar-chart-3" class="footer-icon"></i>
          <span class="footer-title">StockItUp</span>
        </div>
        <p class="footer-text">
          Â© 2025 StockItUp Built for TechRush, by PICTians.
        </p>
      </div>
    </footer>

    <script>
      // Application state
      let app = {
        isDarkMode: false
      };

      // Initialize Lucide icons
      lucide.createIcons();

      // Initialize theme on page load
      function initializeTheme() {
        const savedTheme = localStorage.getItem('stockTracker_theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        
        app.isDarkMode = savedTheme ? savedTheme === 'dark' : prefersDark;
        applyTheme();
      }

      // Apply theme
      function applyTheme() {
        if (app.isDarkMode) {
          document.documentElement.classList.add('dark');
        } else {
          document.documentElement.classList.remove('dark');
        }
      }

      // Dark Mode Toggle Function - FIXED
      function toggleTheme() {
        app.isDarkMode = !app.isDarkMode;
        applyTheme();
        localStorage.setItem('stockTracker_theme', app.isDarkMode ? 'dark' : 'light');
        console.log('Theme toggled to:', app.isDarkMode ? 'dark' : 'light');
      }

      // Dashboard Navigation Function - FIXED
      function goToDashboard() {
        console.log('Navigating to dashboard...');
        window.location.href = 'dashboard.html';
      }

      // Video Modal Functions
      function openVideoModal() {
        const modal = document.getElementById('videoModal');
        const video = document.getElementById('modalVideo');
        
        if (modal && video) {
          modal.style.display = 'flex';
          video.currentTime = 0; // Reset video to beginning
          video.play().catch(e => console.log('Video autoplay prevented:', e));
        }
      }

      function closeVideoModal() {
        const modal = document.getElementById('videoModal');
        const video = document.getElementById('modalVideo');
        
        if (modal && video) {
          modal.style.display = 'none';
          video.pause(); // Pause video when modal closes
          video.currentTime = 0; // Reset to beginning
        }
      }

      // Close modal when clicking outside the video
      document.getElementById('videoModal').addEventListener('click', function(e) {
        if (e.target === this) {
          closeVideoModal();
        }
      });

      // Close modal with Escape key
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          closeVideoModal();
        }
      });

      // Initialize theme when DOM is loaded
      document.addEventListener('DOMContentLoaded', function() {
        initializeTheme();
        loadHomePageMarketData();
      });

      // Market Preview Loading Function
      function loadHomePageMarketData() {
        // Simulate loading for demo purposes
        setTimeout(() => {
          const marketGrid = document.getElementById('homeMarketPreview');
          if (marketGrid) {
            marketGrid.innerHTML = `
              <div class="market-card">
                <div class="market-card-header">
                  <h3 class="market-symbol">AAPL</h3>
                  <div class="trend-indicator positive">
                    <i data-lucide="trending-up"></i>
                  </div>
                </div>
                <div class="market-price">$189.84</div>
                <div class="market-change positive">+2.45 (+1.31%)</div>
              </div>
              <div class="market-card">
                <div class="market-card-header">
                  <h3 class="market-symbol">GOOGL</h3>
                  <div class="trend-indicator negative">
                    <i data-lucide="trending-down"></i>
                  </div>
                </div>
                <div class="market-price">$2,847.32</div>
                <div class="market-change negative">-12.45 (-0.43%)</div>
              </div>
              <div class="market-card">
                <div class="market-card-header">
                  <h3 class="market-symbol">MSFT</h3>
                  <div class="trend-indicator positive">
                    <i data-lucide="trending-up"></i>
                  </div>
                </div>
                <div class="market-price">$412.78</div>
                <div class="market-change positive">+5.67 (+1.39%)</div>
              </div>
              <div class="market-card">
                <div class="market-card-header">
                  <h3 class="market-symbol">TSLA</h3>
                  <div class="trend-indicator negative">
                    <i data-lucide="trending-down"></i>
                  </div>
                </div>
                <div class="market-price">$248.91</div>
                <div class="market-change negative">-8.32 (-3.24%)</div>
              </div>
            `;
            lucide.createIcons();
          }
        }, 2000);
      }
    </script>
  </body>
</html>
